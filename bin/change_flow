#! /bin/csh -f
#
# This shell script sets the flow directory
# "@(#) change_flow version 1.2 7/30/91"
#

# ############## do not change below this line ################
onintr problem 

set test = ${?TWDIR}
if $test != 1 then
    echo ""
    echo "ERROR:TWDIR environment variable not set"
    echo "TWDIR is pathname of TimberWolf root directory"
    echo ""
    exit
endif

# get environment variable TWDIR
set twdir = $TWDIR


# get the number of arguments
set numarg = $#argv

if( $numarg == 1 ) then
    set directory = $TWDIR/bin/flow/$1
    if( -d $directory ) then
	echo "Changing to flow directory to $directory"
	(cd $TWDIR/bin/flow;rm flow;ln -s $1 flow)
    else
	echo ""
	echo "ERROR[change_flow]:$directory directory not found"
	goto problem
    endif

else
problem:
    echo ""
    echo "Set the default TimberWolf flow directory"
    echo "Usage: change_flow flow"
    echo ""
    echo "where flow is a directory of flow files."
    $twdir/bin/show_flows
    exit

endif
